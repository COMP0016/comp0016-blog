<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="Team 38" />
    <title>Testing | WAPETS 2.0</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <style>
      html,
      body {
        overflow-x: hidden; /* Prevent scroll on narrow devices */
      }

      @media (max-width: 991.98px) {
        .offcanvas-collapse {
          position: fixed;
          top: 56px; /* Height of navbar */
          bottom: 0;
          left: 100%;
          width: 100%;
          padding-right: 1rem;
          padding-left: 1rem;
          overflow-y: auto;
          visibility: hidden;
          background-color: #343a40;
          transition: transform 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .offcanvas-collapse.open {
          visibility: visible;
          transform: translateX(-100%);
        }
      }
    </style>
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark"
      aria-label="Main navigation"
    >
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html" aria-current="page"
          >WAPETS 2.0</a
        >
        <button
          class="navbar-toggler p-0 border-0"
          type="button"
          id="navbarSideCollapse"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="navbar-collapse offcanvas-collapse">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" href="01-requirements.html"
                >Requirements</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="02-hci.html">HCI</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="03-research.html">Research</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="04-system-design.html"
                >System design</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="05-implementation.html"
                >Implementation</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="06-testing.html">Testing</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="07-evaluation.html"
                >Evaluation</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="08-appendix.html">Appendix</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container pt-5">
      <div class="row">
        <div class="col-md-8 offset-md-2">
          <h2 class="mt-3">Testing Strategy</h2>
          <div class="card mb-3">
            <div class="card-body">
              <p class="card-text">
                WAPETS v2 is run on local machines while interacting with a web
                server to store and retrieve user information, thus it is very
                important that all aspects of the application are thoroughly
                tested to ensure that it runs without hiccoughs. Before
                deploying the project, we must make sure that the
                functionalities provided work as intended and that both the web
                server and application itself work seamlessly in the way we
                intended them to. For this reason, we’ve set up a comprehensive
                testing plan provided below.
              </p>
              <p class="card-text">
                Since most of our project consists of creating a GUI for users
                to interact with, we had to make sure we included user
                acceptance testing as part of our testing strategy, seeing as
                how testing individual UI components is not possible. For the
                code used for the web server, we implemented integration testing
                as the API used was very thin, meaning that a unit test would be
                essentially the same thing as an integration test. The benefit
                of implementing integration testing was that the URLs of the API
                were tested as well as the underlying API functionality.
              </p>
            </div>
          </div>
          <hr />

          <h2 class="mt-3">Integration Testing</h2>
          <div class="card mt-3 mb-3">
            <div class="card-body">
              <p class="card-text">
                For testing the web server by integration testing, we used
                Python’s unittest library (which can also be used for
                integration tests). We made use of Django’s helper
                functionalities on top the unittest library, combining the
                djangorestframework (DRF) to build on top of this further.
              </p>
              <p class="card-text">
                Django provides a “test client” which can be used to simulate
                requests to a URL, as though a user was making the request
                through a web browser
              </p>
              <p class="card-text">
                The DRF extends this with a couple of helpful tweaks, such as
                the ability to easily specify the format of data being sent
                (json/multipart/etc.) and the ability to automatically send
                multipart data with PUT and PATCH, as opposed to just POST.
              </p>
              <p class="card-text">
                <img
                  class="img img-fluid mb-3"
                  src="./assets/img/testing/WebServerTest.png"
                />
              </p>
              <p class="card-text">
                For each different piece of functionality of the pet API, the
                test sets up some data for the scenario and makes a request
                using the test client. It then checks that the returned response
                from the server is correct, and that the resulting DB state is
                correct.
              </p>
              <p class="card-text">
                As a result of the tests, we were able to be very confident that
                all our users will be able to interact with this API stably and
                consistently to ensure a good experience for all. We achieved
                100% test coverage within the user facing portions of the app,
                which is a useful metric in showing that we have covered all
                bases of the web server with our integration tests.
              </p>
            </div>
          </div>
          <hr />

          <h2 class="mt-3">UI Testing</h2>
          <div class="card mt-3 mb-3">
            <div class="card-body">
              <p class="card-text">
                There are mainly three approaches to UI Testing - Manual
                Testing, Record-and-Playback Testing, and Model-Based Testing.
              </p>
              <p class="card-text">
                We found the manual testing method to be very time-consuming and
                inefficient, given the large scale of the GUI and the many
                components, hence we did some further reserach and found a UI
                Automation Test Framework for games and apps called “Airtest”
                (Airtest Project: https://github.com/AirtestProject), which has
                a cross-engine test automation framework based on UI inspection
                called "Poco".
              </p>

              <p class="card-text">
                Poco uses a method of testing that is similar to both
                record-and-playback testing (where the testing tool records the
                activity of the user and then imitates it) and model-based
                testing (where the run time behaviour of a project is checked
                against predictions made by a model), hence covering our needs
                when testing the UI. Poco has Unity SDK support, so we followed
                the tutorial given on the GitHub repository step by step, and
                wrote the scripts to test our project. The full documentation of
                the tests can be found under the Poco repo, but in short the
                tests are created in Python. Each component is specified by
                using a Poco object, instantiated by "poco = UnityPoco()". The
                poco() method is then used to carry out the tests on each
                component.
                <img
                  class="img img-fluid mb-3"
                  src="./assets/img/testing/PocoTest.png"
                />
                Using Poco for testing both saved us a lot of time (as we didn't
                have to manually come up with writing scripts but could instead
                follow a framework) and greatly improved our testing efficiency.
              </p>

              <p class="card-text">
                After we implemented the automated testing provided by Poco, we
                were able to ensure that the UI functioned smoothly and
                efficiently without encountering any hiccoughs. All of our UI
                tests passed the tests, meaning that our UI -barring any
                exceptional bugs- functions fine and can be deployed for users
                to interact with.
              </p>
            </div>
          </div>
          <hr />
        </div>
      </div>

      <footer
        class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top"
      >
        <p class="col-md-4 mb-0 text-muted">
          &copy;
          <script>
            document.write(new Date().getFullYear());
          </script>
          Team 38
        </p>

        <!--        <a href="/2021/group38" class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">-->
        <!--          <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"/></svg>-->
        <!--        </a>-->

        <ul class="nav col-md-4 justify-content-end">
          <li class="nav-item">
            <a href="/2021/group38" class="nav-link px-2 text-muted">Home</a>
          </li>
        </ul>
      </footer>
    </main>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>

    <script>
      (function () {
        "use strict";

        document
          .querySelector("#navbarSideCollapse")
          .addEventListener("click", function () {
            document
              .querySelector(".offcanvas-collapse")
              .classList.toggle("open");
          });
      })();
    </script>
  </body>
</html>
